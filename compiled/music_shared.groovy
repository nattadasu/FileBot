{def Ev = { System.getProperty(it) };def ms = Ev("os.name").toLowerCase().contains("windows");def qS = Ev("user.name");def XqR = "/run/media/${qS}";def Ain = ms ? "H:/" : "$XqR/Videos";def UVM = [[xeG: "Books", lWG: "F:/", PwW: "$XqR/Books"],[xeG: "Data", lWG: "D:/", PwW: "$XqR/Data"],[xeG: "Games", lWG: "G:/", PwW: "$XqR/Games"],[xeG: "Music", lWG: "E:/", PwW: "$XqR/Music"],[xeG: "Videos", lWG: "H:/", PwW: "$XqR/Videos"]];def Aqg = (UVM.collect { it[ms ? "lWG" : "PwW"] as File }.sort { rMf, Hon ->  rMf.exists() <=> Hon.exists() ?: rMf.diskSpace <=> Hon.diskSpace }).last();def tGj = Ain ?: Aqg;"$tGj/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}