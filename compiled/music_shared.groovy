{def GfJ = { System.getProperty(it) };def me = GfJ("os.name").toLowerCase().contains("windows");def cX = GfJ("user.name");def ToM = "/run/media/${cX}";def qT = me ? "H:/" : "$ToM/Videos";def NVx = [[KM: "Books", tEY: "F:/", LJ: "$ToM/Books"],[KM: "Data", tEY: "D:/", LJ: "$ToM/Data"],[KM: "Games", tEY: "G:/", LJ: "$ToM/Games"],[KM: "Music", tEY: "E:/", LJ: "$ToM/Music"],[KM: "Videos", tEY: "H:/", LJ: "$ToM/Videos"]];def pF = (NVx.collect { it[me ? "tEY" : "LJ"] as File }.sort { GNM, lRh ->  GNM.exists() <=> lRh.exists() ?: GNM.diskSpace <=> lRh.diskSpace }).last();def Nem = qT ?: pF;"$Nem/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}