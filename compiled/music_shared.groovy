{def eCf = { System.getProperty(it) };def Ct = eCf("os.name").toLowerCase().contains("windows");def fG = eCf("user.name");def JpP = "/run/media/${fG}";def EX = Ct?"H:/" : "$JpP/Videos";def slK = [[fBe:"Books",St:"F:/",Op:"$JpP/Books"],[fBe:"Data",St:"D:/",Op:"$JpP/Data"],[fBe:"Games",St:"G:/",Op:"$JpP/Games"],[fBe:"Music",St:"E:/",Op:"$JpP/Music"],[fBe:"Videos",St:"H:/",Op:"$JpP/Videos"]];def Wo = (slK.collect { it[Ct?"St" : "Op"] as File }.sort { PB, HIW ->PB.exists()<=>HIW.exists()?: PB.diskSpace<=>HIW.diskSpace }).last();def zw = EX?: Wo;"$zw/"}{"Torrent Uploads/"}{ext.upper()}/{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album} - {n} [{ext.upper()}{ext=="flac"?" " + "${ bitdepth>16?bitdepth + '-' : ''}" + khz : ext=="mp3"&&media.get("OverallBitRate/String")!="320 kbps"?" V0" : ""}]{media.CATALOGNUMBER?"[" + media.CATALOGNUMBER + "]" : ""}/{dc>1?"Disc " + di + "/" : ""}{dc?di + "-": ""}{pi.pad(2)} {t}