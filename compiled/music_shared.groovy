{def Ye = { System.getProperty(it) };def Ghm = Ye("os.name").toLowerCase().contains("windows");def Tg = Ye("user.name");def YA = "/run/media/${Tg}";def esA = Ghm?"H:/" : "$YA/Videos";def ml = [[MsN:"Books",YE:"F:/",QY:"$YA/Books"],[MsN:"Data",YE:"D:/",QY:"$YA/Data"],[MsN:"Games",YE:"G:/",QY:"$YA/Games"],[MsN:"Music",YE:"E:/",QY:"$YA/Music"],[MsN:"Videos",YE:"H:/",QY:"$YA/Videos"]];def qNn = (ml.collect { it[Ghm?"YE" : "QY"] as File }.sort { iVs, jq ->iVs.exists()<=>jq.exists()?: iVs.diskSpace<=>jq.diskSpace }).last();def hbE = esA?: qNn;"$hbE/"}{"Torrent Uploads/"}{ext.upper()}/{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album} - {n} [{ext.upper()}{ext=="flac"?" " + "${ bitdepth>16?bitdepth + '-' : ''}" + khz : ext=="mp3"&&media.get("OverallBitRate/String")!="320 kbps"?" V0" : ""}]{media.CATALOGNUMBER?"[" + media.CATALOGNUMBER + "]" : ""}/{dc>1?"Disc " + di + "/" : ""}{dc?di + "-": ""}{pi.pad(2)} {t}