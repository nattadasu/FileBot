{def xuP = { System.getProperty(it) };def Gxg = xuP("os.name").toLowerCase().contains("windows");def URe = xuP("user.name");def scY = "/run/media/${URe}";def bJ = Gxg ? "H:/" : "$scY/Videos";def RpX = [[aHD: "Books", It: "F:/", HK: "$scY/Books"],[aHD: "Data", It: "D:/", HK: "$scY/Data"],[aHD: "Games", It: "G:/", HK: "$scY/Games"],[aHD: "Music", It: "E:/", HK: "$scY/Music"],[aHD: "Videos", It: "H:/", HK: "$scY/Videos"]];def IDr = (RpX.collect { it[Gxg ? "It" : "HK"] as File }.sort { aLY, Rrs ->  aLY.exists() <=> Rrs.exists() ?: aLY.diskSpace <=> Rrs.diskSpace }).last();def bn = bJ ?: IDr;"$bn/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}