{def Yn = { System.getProperty(it) };def qFx = Yn("os.name").toLowerCase().contains("windows");def nE = Yn("user.name");def UE = "/run/media/${nE}";def vQm = qFx ? "H:/" : "$UE/Videos";def ry = [[sul: "Books", xJJ: "F:/", Ikr: "$UE/Books"],[sul: "Data", xJJ: "D:/", Ikr: "$UE/Data"],[sul: "Games", xJJ: "G:/", Ikr: "$UE/Games"],[sul: "Music", xJJ: "E:/", Ikr: "$UE/Music"],[sul: "Videos", xJJ: "H:/", Ikr: "$UE/Videos"]];def eCx = (ry.collect { it[qFx ? "xJJ" : "Ikr"] as File }.sort { FF, mM ->  FF.exists() <=> mM.exists() ?: FF.diskSpace <=> mM.diskSpace }).last();def Pn = vQm ?: eCx;"$Pn/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}